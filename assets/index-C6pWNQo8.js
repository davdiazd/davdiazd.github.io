import{r as f,j as t,R as _}from"./motion-ClrpEr-o.js";import{a as K,g as J}from"./react-BtP0CW_r.js";(function(){const j=document.createElement("link").relList;if(j&&j.supports&&j.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))k(n);new MutationObserver(n=>{for(const l of n)if(l.type==="childList")for(const w of l.addedNodes)w.tagName==="LINK"&&w.rel==="modulepreload"&&k(w)}).observe(document,{childList:!0,subtree:!0});function b(n){const l={};return n.integrity&&(l.integrity=n.integrity),n.referrerPolicy&&(l.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?l.credentials="include":n.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function k(n){if(n.ep)return;n.ep=!0;const l=b(n);fetch(n.href,l)}})();var P={},F;function Q(){if(F)return P;F=1;var c=K();return P.createRoot=c.createRoot,P.hydrateRoot=c.hydrateRoot,P}var Y=Q();const Z=J(Y);function ee(){var L,T;const[c,j]=f.useState({phase:"inhale",cycle:1,timeInPhase:0}),[b,k]=f.useState(!1),[n,l]=f.useState(!1),[w,x]=f.useState(null),[I,U]=f.useState(!1),o=f.useRef(null),m=f.useRef(null),y=f.useRef(null),R={inhale:4e3,exhale:6e3},C=3,S=()=>{try{m.current||(m.current=new(window.AudioContext||window.webkitAudioContext));const e=m.current,r=e.createOscillator(),i=e.createGain();r.connect(i),i.connect(e.destination),r.type="sine",r.frequency.setValueAtTime(220,e.currentTime),i.gain.setValueAtTime(.05,e.currentTime),y.current=r,U(!0),l(!0),x(null),console.log("Fallback audio created successfully")}catch(e){console.error("Failed to create fallback audio:",e),x("Audio not available")}},E=async()=>{try{const e=new(window.AudioContext||window.webkitAudioContext),r=e.sampleRate,s=r*10,d=e.createBuffer(1,s,r),a=d.getChannelData(0);for(let p=0;p<s;p++){const u=p/r,g=u%10/10;let A=0;g<.4?A=Math.sin(g*Math.PI*2.5)*.3:A=Math.sin((g-.4)*Math.PI*1.67)*.2;const G=Math.sin(2*Math.PI*220*u)*A,X=Math.sin(2*Math.PI*440*u)*A*.3,H=Math.sin(2*Math.PI*330*u)*A*.2;a[p]=G+X+H}const v=B(d),M=URL.createObjectURL(v);o.current=new Audio(M),o.current.loop=!0,o.current.volume=.3,console.log("Generated breathing audio file successfully"),l(!0),x(null)}catch(e){console.error("Failed to generate breathing audio:",e),S()}},B=e=>{const r=e.numberOfChannels,i=e.sampleRate,s=e.length,d=new ArrayBuffer(44+s*r*2),a=new DataView(d),v=(p,u)=>{for(let g=0;g<u.length;g++)a.setUint8(p+g,u.charCodeAt(g))};v(0,"RIFF"),a.setUint32(4,36+s*r*2,!0),v(8,"WAVE"),v(12,"fmt "),a.setUint32(16,16,!0),a.setUint16(20,1,!0),a.setUint16(22,r,!0),a.setUint32(24,i,!0),a.setUint32(28,i*r*2,!0),a.setUint16(32,r*2,!0),a.setUint16(34,16,!0),v(36,"data"),a.setUint32(40,s*r*2,!0);const M=44;for(let p=0;p<s;p++)for(let u=0;u<r;u++){const g=Math.max(-1,Math.min(1,e.getChannelData(u)[p]));a.setInt16(M+(p*r+u)*2,g*32767,!0)}return new Blob([d],{type:"audio/wav"})},$=()=>{if(!y.current||!m.current)return;const e=m.current,r=y.current,i=e.createGain();r.connect(i),i.connect(e.destination);const s=e.currentTime;i.gain.setValueAtTime(0,s),i.gain.linearRampToValueAtTime(.03,s+.1),i.gain.exponentialRampToValueAtTime(.01,s+.5),r.start(),console.log("Fallback audio started with breathing rhythm")};f.useEffect(()=>{try{console.log("Initializing audio element...");const e=window.location.hostname!=="localhost",r="/audio/breathing.mp3";console.log("Loading audio from:",r),o.current=new Audio(r),console.log("Audio element created:",o.current),console.log("Audio src:",o.current.src),console.log("Audio readyState:",o.current.readyState),o.current.preload="auto",o.current.volume=.5,o.current.loop=!0;const i=()=>{var a;console.log("Audio loaded successfully"),((a=o.current)==null?void 0:a.readyState)===4&&(l(!0),x(null),console.log("MP3 audio ready to play"))},s=a=>{console.error("Audio loading error:",a),x("MP3 failed - generating breathing audio..."),E()};o.current.addEventListener("canplaythrough",i),o.current.addEventListener("error",s);const d=setTimeout(()=>{!n&&o.current&&(console.log("Audio loading timeout, checking readyState..."),o.current.readyState>=2?(l(!0),x(null)):(console.log("MP3 failed to load, trying generated audio..."),x("MP3 failed - generating breathing audio..."),E()))},1e4);return()=>{clearTimeout(d),o.current&&(o.current.pause(),o.current.removeEventListener("canplaythrough",i),o.current.removeEventListener("error",s)),y.current&&y.current.stop(),m.current&&m.current.close()}}catch(e){console.error("Error initializing audio:",e),x("Failed to initialize audio"),S()}},[]);const O=()=>{if(!n)return;const e=!b;k(e),e?I&&y.current&&m.current?$():o.current&&(o.current.currentTime=0,o.current.play().catch(console.warn)):I&&y.current?(y.current.stop(),console.log("Fallback audio stopped")):o.current&&o.current.pause()};f.useEffect(()=>{const e=setInterval(()=>{j(r=>{const i=R[r.phase],s=r.timeInPhase+100;if(s>=i){let d,a=r.cycle;switch(r.phase){case"inhale":d="exhale";break;case"exhale":d="inhale",a=r.cycle<C?r.cycle+1:1;break}return{phase:d,cycle:a,timeInPhase:0}}return{...r,timeInPhase:s}})},100);return()=>clearInterval(e)},[]);const z=()=>{const e=c.timeInPhase/R[c.phase];switch(c.phase){case"inhale":return 1+.7*(1-Math.pow(1-e,2));case"exhale":const i=e,s=1-Math.pow(1-e,1.2);return 1.7-.7*(i*.7+s*.3)}},W=()=>{const e=c.timeInPhase/R[c.phase];switch(c.phase){case"inhale":return .6+.4*e;case"exhale":return 1-.4*e}},D=()=>{switch(c.phase){case"inhale":return"Inhale";case"exhale":return"Now exhale slowly..."}},N=()=>{const e=c.timeInPhase/R[c.phase];return e<.15?e/.15:1},V=z(),h=W(),q=N();return t.jsxs("div",{style:{position:"relative",width:"100vw",height:"100vh",overflow:"hidden",background:`
        radial-gradient(ellipse at center, 
          rgba(75, 0, 130, 0.3) 0%, 
          rgba(25, 25, 112, 0.5) 30%, 
          rgba(72, 61, 139, 0.7) 60%, 
          rgba(25, 25, 112, 0.9) 100%
        ),
        linear-gradient(45deg,
          #191970 0%, #483d8b 25%, #6a5acd 50%, #4b0082 75%, #2f1b69 100%
        )
      `},children:[t.jsx("div",{style:{position:"absolute",inset:0},children:[...Array(50)].map((e,r)=>t.jsx("div",{style:{position:"absolute",width:"4px",height:"4px",background:"white",borderRadius:"50%",opacity:.2,left:`${Math.random()*100}%`,top:`${Math.random()*100}%`,animation:`twinkle ${4+Math.random()*4}s ease-in-out infinite`,animationDelay:`${Math.random()*4}s`}},r))}),t.jsx("div",{style:{position:"absolute",top:"32px",right:"32px",zIndex:10},children:t.jsx("button",{onClick:O,disabled:!n,style:{display:"flex",alignItems:"center",justifyContent:"center",width:"48px",height:"48px",borderRadius:"50%",backdropFilter:"blur(4px)",border:n?"1px solid rgba(255,255,255,0.2)":"1px solid rgba(255,255,255,0.1)",background:n?"rgba(255,255,255,0.1)":"rgba(255,255,255,0.05)",cursor:n?"pointer":"not-allowed",opacity:n?1:.5,transition:"all 0.3s ease",boxShadow:b&&n?"0 0 20px rgba(147, 112, 219, 0.4)":"0 0 10px rgba(255, 255, 255, 0.1)"},children:n?b?t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",style:{color:"rgba(255,255,255,0.9)"},children:[t.jsx("polygon",{points:"11 5 6 9 2 9 2 15 6 15 11 19 11 5"}),t.jsx("path",{d:"M15.54 8.46a5 5 0 0 1 0 7.07"}),t.jsx("path",{d:"M19.07 4.93a10 10 0 0 1 0 14.14"})]}):t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",style:{color:"rgba(255,255,255,0.9)"},children:[t.jsx("polygon",{points:"11 5 6 9 2 9 2 15 6 15 11 19 11 5"}),t.jsx("line",{x1:"22",y1:"9",x2:"16",y2:"15"}),t.jsx("line",{x1:"16",y1:"9",x2:"22",y2:"15"})]}):t.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",style:{color:"rgba(255,255,255,0.6)",animation:"spin 1s linear infinite"},children:t.jsx("path",{d:"M21 12a9 9 0 11-6.219-8.56"})})})}),t.jsx("div",{style:{position:"absolute",inset:0,display:"flex",alignItems:"center",justifyContent:"center"},children:t.jsxs("div",{style:{position:"relative",transform:`scale(${V})`,transition:"transform 0.1s ease-out"},children:[t.jsx("div",{style:{width:"192px",height:"192px",borderRadius:"50%",background:"linear-gradient(135deg, rgba(255,255,255,0.2) 0%, rgba(147,112,219,0.3) 100%)",backdropFilter:"blur(4px)",boxShadow:`
                0 0 ${60*h}px rgba(147, 112, 219, ${.6*h}),
                0 0 ${120*h}px rgba(147, 112, 219, ${.4*h}),
                0 0 ${200*h}px rgba(147, 112, 219, ${.2*h}),
                inset 0 0 ${40*h}px rgba(255, 255, 255, ${.1*h})
              `}}),t.jsx("div",{style:{position:"absolute",inset:"16px",borderRadius:"50%",background:"linear-gradient(135deg, rgba(255,255,255,0.3) 0%, rgba(147,112,219,0.2) 100%)",opacity:h*.8,transition:"opacity 0.1s ease"}}),t.jsx("div",{style:{position:"absolute",inset:"33%",borderRadius:"50%",background:"rgba(255,255,255,0.4)",opacity:h,transform:`scale(${.8+h*.4})`,transition:"all 0.1s ease"}})]})}),t.jsx("div",{style:{position:"absolute",inset:0,display:"flex",alignItems:"center",justifyContent:"center",pointerEvents:"none",paddingTop:"320px"},children:t.jsx("p",{style:{color:"rgba(255,255,255,0.9)",textAlign:"center",letterSpacing:"0.05em",fontSize:"18px",fontWeight:"300",textShadow:"0 2px 10px rgba(0,0,0,0.3)",opacity:q,transition:"opacity 0.1s ease"},children:D()})}),w&&t.jsx("div",{style:{position:"absolute",top:"100px",left:"50%",transform:"translateX(-50%)",maxWidth:"90%",textAlign:"center",zIndex:20},children:t.jsxs("p",{style:{color:"rgba(255,255,255,0.8)",fontSize:"12px",lineHeight:"1.3",margin:0,fontFamily:"var(--font-family)",fontWeight:"400",background:"rgba(255,0,0,0.1)",padding:"8px 12px",borderRadius:"6px",border:"1px solid rgba(255,0,0,0.3)"},children:["⚠️ ",w," - Audio may not work properly"]})}),t.jsx("div",{style:{position:"absolute",bottom:"8px",left:"50%",transform:"translateX(-50%)",maxWidth:"90%",textAlign:"center"},children:t.jsxs("p",{style:{color:"rgba(255,255,255,0.5)",fontSize:"10px",lineHeight:"1.3",margin:0,fontFamily:"var(--font-family)",fontWeight:"300"},children:["The tools, tips, and resources provided by Modak are for informational and educational purposes only. They are not intended to diagnose, treat, cure, or prevent any mental health condition.",t.jsx("br",{}),"These materials are not a substitute for professional medical advice, diagnosis, or treatment. If you or someone you know is experiencing emotional distress or a mental health emergency, please contact a licensed healthcare provider or call 988 for immediate support in the U.S."]})}),t.jsx("div",{style:{position:"absolute",bottom:"60px",left:"50%",transform:"translateX(-50%)"},children:t.jsx("div",{style:{display:"flex",gap:"8px"},children:[...Array(C)].map((e,r)=>t.jsx("div",{style:{width:"8px",height:"8px",borderRadius:"50%",transition:"all 0.3s ease",background:r+1<=c.cycle?"rgba(255,255,255,0.6)":"rgba(255,255,255,0.2)"}},r))})}),t.jsx("div",{style:{position:"absolute",top:"32px",left:"50%",transform:"translateX(-50%)"},children:t.jsxs("div",{style:{color:"rgba(255,255,255,0.7)",textAlign:"center"},children:[t.jsx("p",{style:{fontSize:"14px",fontWeight:"300",margin:0,letterSpacing:"0.05em"},children:"4-6 Breathing Method"}),t.jsx("p",{style:{fontSize:"12px",opacity:.6,margin:"4px 0 0 0"},children:"4s inhale • 6s exhale"}),b&&n&&t.jsxs("p",{style:{fontSize:"11px",opacity:.5,margin:"4px 0 0 0"},children:["🎵 Audio enabled ",I&&"(tone)"," ",!I&&((T=(L=o.current)==null?void 0:L.src)==null?void 0:T.includes("blob:"))&&"(generated)"]}),!n&&t.jsx("p",{style:{fontSize:"11px",opacity:.5,margin:"4px 0 0 0"},children:"Audio loading... (breathing exercise works without audio)"})]})}),t.jsx("style",{children:`
        @keyframes twinkle {
          0%, 100% { opacity: 0.1; transform: scale(0.5); }
          50% { opacity: 0.3; transform: scale(1); }
        }
        @keyframes spin {
          from { transform: rotate(0deg); }
          to { transform: rotate(360deg); }
        }
      `})]})}function te(){return t.jsx("div",{className:"App",children:t.jsx(ee,{})})}Z.createRoot(document.getElementById("root")).render(t.jsx(_.StrictMode,{children:t.jsx(te,{})}));
//# sourceMappingURL=index-C6pWNQo8.js.map
